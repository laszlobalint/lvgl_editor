<component>
    <previews>
        <preview width="320" height="320" />
    </previews>
    <styles>
        <style name="panel_size" width="320" height="320" />
        <style name="off" opa_layered="120" /> 
        <style name="thermostat" bg_color="0xff0000" width="272" pad_left="40" pad_right="40" pad_top="24" margin_bottom="-4"/>
        <style name="thermostat_bg" width="184" height="184" radius="50%" border_width="0" />
        <style name="thermostat_bg_light" bg_color="#bg_secondary_light" />
        <style name="thermostat_bg_dark" bg_color="#bg_secondary_dark" />
        <style name="thermostat_knob" width="160" height="160" radius="50%" border_width="0" shadow_color="#dark" shadow_offset_y="16" shadow_opa="61"  shadow_spread="0" shadow_width="32" /> 
        <style name="thermostat_knob_light" bg_color="#bg_primary_light" />
        <style name="thermostat_knob_dark" bg_color="#bg_primary_dark" />
        <style name="arc_bg" arc_width="0"/>
        <style name="arc_knob" width="12" height="12" bg_color="#accent1_light" />
        <style name="scale" pad_all="0" pad_bottom="0" />
        <style name="scale_light" text_font="geist_semibold_12" text_color="#surface_primary_light" />
        <style name="scale_dark" text_font="geist_semibold_12" text_color="#surface_primary_dark" />
        <style name="scale_main_bg" arc_width="0" bg_opa="0" />
        <style name="scale_items_light" line_color="#surface_primary_light" line_width="3" line_opa="60" />
        <style name="scale_items_dark" line_color="#surface_primary_dark" line_width="3" line_opa="60"/>
        <style name="scale_indicator_light" line_color="#surface_primary_light" line_width="3" line_opa="255"/>
        <style name="scale_indicator_dark" line_color="#surface_primary_dark" line_width="3" line_opa="255"/>
    </styles>
   <view extends="panel">
        <style name="panel_size" />

        <panel_header width="100%" style_margin_bottom="-12">
            <lv_label text="Thermostat" style_text_font="geist_semibold_20" />
            <switch bind_checked="thermostat"></switch>
        </panel_header>

        <lv_obj name="thermostat">
            <style name="style_reset" />
            <style name="thermostat" />
            <bind_style subject="thermostat" name="off" ref_value="0" />

            <lv_obj name="thermostat_bg">
                <style name="thermostat_bg" />
                <bind_style subject="theme" ref_value="0" name="thermostat_bg_light" />
                <bind_style subject="theme" ref_value="1" name="thermostat_bg_dark" />
            </lv_obj>

            <lv_obj name="thermostat_knob" x="12" y="12">
                <style name="thermostat_knob" />
                <bind_style subject="theme" ref_value="0" name="thermostat_knob_light" />
                <bind_style subject="theme" ref_value="1" name="thermostat_knob_dark" />
            </lv_obj>

            <lv_scale name="thermostat_scale_light" width="198" height="204" x="-8" y="-8" major_tick_every="10" mode="round_outer" angle_range="180" min_value="16" max_value="28" rotation="180" >
                <bind_flag_if_not_eq subject="theme" flag="hidden" ref_value="0" />
                <style name="scale" />
                <style name="scale_light" />
                <style name="scale_items_light" selector="items" />
                <style name="scale_items_light" selector="indicator" />
                <style name="scale_main_bg" selector="main" />
                <lv_scale-section min_value="16" bind_max_value="thermostat_temp"  style_items="scale_indicator_light" style_indicator="scale_indicator_light" />
            </lv_scale>

            <lv_scale name="thermostat_scale_dark" width="198" height="204" x="-10" y="-10" major_tick_every="10" mode="round_outer" angle_range="180" min_value="16" max_value="28" rotation="180">
                <bind_flag_if_not_eq subject="theme" flag="hidden" ref_value="1" />
                <style name="scale" />
                <style name="scale_dark" />
                <style name="scale_items_dark" selector="items" />
                <style name="scale_items_dark" selector="indicator" />
                <style name="scale_main_bg" selector="main" />
                <lv_scale-section min_value="16" bind_max_value="thermostat_temp" style_items="scale_indicator_dark" style_indicator="scale_indicator_dark" />
            </lv_scale>

            <lv_arc width="184" height="184" bind_value="thermostat_temp" min_value="16" max_value="28" bg_start_angle="180" bg_end_angle="360" start_angle="180" style_pad_all="30">
                <bind_state_if_eq subject="thermostat" state="disabled" ref_value="0" />
                <style name="arc_bg" selector="main" />
                <style name="arc_bg" selector="indicator" />
                <style name="arc_knob" selector="knob" />
            </lv_arc>
        </lv_obj>

        <lv_label bind_text="thermostat_temp" style_text_font="geist_regular_14" bind_text-fmt="Heating up to %d °C">
            <bind_flag_if_le subject="thermostat_temp" flag="hidden" ref_value="#room_temp" />
        </lv_label>
        <lv_label bind_text="thermostat_temp" style_text_font="geist_regular_14" bind_text-fmt="Cooling down to %d °C">
            <bind_flag_if_ge subject="thermostat_temp" flag="hidden" ref_value="#room_temp" />
        </lv_label>
        <lv_label bind_text="thermostat_temp" style_text_font="geist_regular_14" bind_text-fmt="Room temperature is %d °C">
            <bind_flag_if_not_eq subject="thermostat_temp" flag="hidden" ref_value="#room_temp" />
        </lv_label>
   </view>
</component>